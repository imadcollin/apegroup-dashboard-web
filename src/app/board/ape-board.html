<link rel="import" href="../../assets/libs/polymer/polymer.html">
<link rel="import" href="../shared/container/ape-container.html">

<dom-module id="ape-board">

    <template>

        <style>

            :host {
                display: flex;
                flex-direction: column;
                flex-grow: 1;
                padding: 1.6rem;
                background-color: #2a2a2a;
            }

            .container-wrapper {
                flex-grow: 1;
                display: grid;
                grid-column-gap: 1.6rem;
                grid-row-gap: 1.6rem;
                grid-template-columns: repeat(3, 1fr);
                grid-template-rows: repeat(3, auto);
                grid-template-areas: "one two three"
                                     "four five six"
                                     "seven eight nine"
            }

            ape-container:nth-child(1) {
                grid-area: one;
            }

            ape-container:nth-child(2) {
                grid-area: two;
            }

            ape-container:nth-child(3) {
                grid-area: three;
            }

            ape-container:nth-child(4) {
                grid-area: four;
            }

            ape-container:nth-child(5) {
                grid-area: five;
            }

            ape-container:nth-child(6) {
                grid-area: six;
            }

            ape-container:nth-child(7) {
                grid-area: seven;
            }

            ape-container:nth-child(8) {
                grid-area: eight;
            }

            ape-container:nth-child(9) {
                grid-area: nine;
            }

            /* Layout 1 */

            :host([layout-1]) .container-wrapper {
                grid-template-areas: "one two three"
                                     "one two three"
                                     "one two three"
            }

            :host([layout-1]) ape-container:nth-child(n+4) {
                display: none;
            }

            /* Layout 2 */

            :host([layout-2]) .container-wrapper {
                grid-template-areas: "one one one"
                                     "two two two"
                                     "three three three"
            }

            :host([layout-2]) ape-container:nth-child(n+4) {
                display: none;
            }

            /* Layout 3 */

            :host([layout-3]) .container-wrapper {
                grid-template-areas: "one one one"
                                     "one one one"
                                     "two three four"
            }

            :host([layout-3]) ape-container:nth-child(n+5) {
                display: none;
            }

            .menu {
                position: fixed;
                right: 0;
                top: 0;
                height: 100%;
                width: 8.8rem;
                background-color: #000;
                z-index: 1;
                color: #fff;
                display: flex;
                flex-direction: column;
            }

            .menu-icon {
                display: flex;
                flex-direction: column;
                align-items: center;
                padding: 1.6rem;
                cursor: pointer;
                background-color: #000;
            }

        </style>

        <div class="menu">
            <div class="menu-icon" draggable="true" on-dragstart="_dragStart" id="ape-weather">Weather</div>
            <div class="menu-icon" draggable="true" on-dragstart="_dragStart" id="ape-time">Time</div>
            <div class="menu-icon" draggable="true" on-dragstart="_dragStart" id="ape-twitter">Twitter</div>
            <div class="menu-icon" draggable="true" on-dragstart="_dragStart" id="ape-wall">Wall</div>
        </div>

        <div class="container-wrapper">

            <ape-container></ape-container>
            <ape-container></ape-container>
            <ape-container></ape-container>
            <ape-container></ape-container>
            <ape-container></ape-container>
            <ape-container></ape-container>
            <ape-container></ape-container>
            <ape-container></ape-container>
            <ape-container></ape-container>

        </div>

    </template>

    <script>

        Polymer({

            is: `ape-board`,

            behaviors: [

            ],

            properties: {

            },

            /* Life cycle */

            ready() {

            },

            /* Listeners */

            _dragStart(event) {
                event.dataTransfer.setData(`widget-name`, event.target.id);
            }

        });

    </script>

</dom-module>